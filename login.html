<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login | Card Binder</title>
  <link rel="stylesheet" href="login.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <script type="module" defer src="login.js"></script>
</head>
<body>
  <header>
    <div class="container">
      <img src="Logo.png" alt="logo" class="site-logo">
      <img src="Credits.png" alt="logo" class="site-logo">
    </div>
  </header>

  <div class="container">  
    <div class="form-wrapper">
      <div class="patchnotes-window">
        <h2>Patch Notes</h2>
        <ul id="patchList"></ul>
      </div>

      <!-- Login Form -->
      <div id="login-form" class="form-container">
        <h2>Login</h2>
        <form id="login">
          <input type="email" id="login-email" placeholder="Email" required />
          <input type="password" id="login-password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
        <p>Don't have an account? <a href="#" id="show-signup">[Sign up]</a></p>
      </div>  

      <!-- Signup Form -->
      <div id="signup-form" class="form-container">
        <h2>Signup</h2>
        <form id="signup">
          <input type="email" id="signup-email" placeholder="Email" required />
          <input type="password" id="signup-password" placeholder="Password" required />
          <button type="submit">Create Account</button>
        </form>
        <p>Already have an account? <a href="#" id="show-login">[Login]</a></p>
      </div>  
    </div>
  </div>

  <p id="errorMessage" class="container"></p>

  <!-- Cookie Consent + Conditional Ko-fi Widget -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
  <script>
    window.addEventListener("load", function () {
      window.cookieconsent.initialise({
        palette: {
          popup: { background: "#000" },
          button: { background: "#f1d600" }
        },
        theme: "classic",
        content: {
          message: "This website uses cookies to ensure you get the best experience.",
          dismiss: "Got it!",
          link: "Learn more",
          href: "/privacy.html"
        },
        onInitialise: function (status) {
          if (status === cookieconsent.status.allow) {
            loadKofiWidget();
          }
        },
        onStatusChange: function (status) {
          if (status === cookieconsent.status.allow) {
            loadKofiWidget();
          }
        }
      });
    });

    function loadKofiWidget() {
      if (document.getElementById("ko-fi-footer")) return; // Avoid duplication

      const container = document.createElement("div");
      container.id = "ko-fi-footer";
      container.style.position = "fixed";
      container.style.bottom = "10px";
      container.style.right = "10px";
      container.style.zIndex = "9999";

      const script = document.createElement("script");
      script.src = "https://storage.ko-fi.com/cdn/scripts/overlay-widget.js";
      script.onload = function () {
        kofiWidgetOverlay.draw('vaemtg', {
          'type': 'floating-chat',
          'floating-chat.donateButton.text': 'Donate',
          'floating-chat.donateButton.background-color': '#323842',
          'floating-chat.donateButton.text-color': '#fff'
        });
      };

      container.appendChild(script);
      document.body.appendChild(container);
    }
  </script>
</body>

<footer id="foot-notes">
  <p>&copy; 2025 TGBinder. All rights reserved.</p>
</footer>
</html>
